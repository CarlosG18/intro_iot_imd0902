# Pr√°tica 3 - Ligando um LED com um bot√£o

> Vamos usar um ESP para criar um circuito basico para acender um led usando o bot√£o com duas configura√ß√µes.

Antes de colocar a m√£o na massa, precisamos entender como o bot√£o funciona:

## ü§î Como Funciona o bot√£o:

O bot√£o √© um componente de entrada (INPUT) fundamental em diversos sistemas, ele possui a simples mas por√©m importantissima fun√ß√£o de habilitar ou n√£o algo. Seu funcionamento √© baseado na liga√ß√£o ou na n√£o liga√ß√£o de um caminho para a passagem de corrente/tens√£o. vamos observar a imagem abaixo para compreender melhor:

<p align="center">
    <img width=300 src="./imgs/push_buttom.png"/>
</p>

Geralmente usamos apenas um par de pinos, ou seja, ou usamos os pinos **1 e 3** ou **2 e 4**, sendo colocado em um uma **TENS√ÉO** e no outro um **GND**. Mas isso ainda n√£o √© o suficiente para podermos usa-l√≥, precisamos conhecer os modos de uso. Temos dois tipos de **Modo de uso** dos bot√µes:

### üîº Modo usando resistor PULL-UP:

Quando queremos que uma determinada corrente/tens√£o seja interrompida quando precionamos o **push buttom** usamos um resistor PULL-UP:

<p align="center">
    <img width=300 src="./imgs/pull_up.png"/>
</p>

Nessa configura√ß√£o, quando o bot√£o n√£o estiver precionado, a tens√£o **VCC** ser√° repassado para o pino do microcontrolador. quando o bot√£o for precionado o caminho entre o **GND** e o pino do microcontrolador ser√° fechado e a tens√£o repassada para o pino ser√° o **0V**.

ü§î mas porque usar esse resistor ai? tira isso que funciona! 

Ent√£o meu jovem... na pr√°tica at√© √© possivel, mas n√£o √© recomendado pelos seguintes motivos:

1. **Prote√ß√£o**: Sem um resistor de pull-up, a corrente que flui √© determinada principalmente pela resist√™ncia interna do microcontrolador, que pode ser muito baixa e potencialmente danificar o pino de entrada.
2. **Redu√ß√£o do consumo de energia**: O resistor de pull-up mant√©m o pino de entrada em um estado logicamente alto quando o bot√£o n√£o est√° pressionado, o que pode ser importante para reduzir o consumo de energia em sistemas alimentados por bateria.
3. **Elimina√ß√£o de flutua√ß√µes de sinal**: O resistor de pull-up ajuda a evitar flutua√ß√µes de sinal no pino de entrada que podem ocorrer quando o bot√£o n√£o est√° pressionado, garantindo uma leitura est√°vel.

### üîΩ Modo usando resistor PULL-DOWN:

bastante similar com a configura√ß√£o do resistor PULL-UP, temos o resistor PULL-DOWN dado por:

<p align="center">
    <img width=300 src="./imgs/pull_down.png"/>
</p>

S√≥ que diferentemente do resistor PULL-UP, quando o bot√£o n√£o estiver precionado a tens√£o passada para o pino √© **0V**. quando precionamos o **push button** a tens√£o repassada pada o pino do microcontrolador √© igual a **VCC**.

## üß™ Experimento 01 - Usando o bot√£o como PULL-UP:

O Esp possui um resitor PULL-DOWN j√° imbutido, ent√£o para montarmos o circuito s√≥ precisamos apenas do bot√£o, dos jumpers e do microcontrolador:

<p align="center">
    <img width=300 src="./imgs/botao_pullup.jpg"/>
</p>

### üßë‚Äçüíª c√≥digo em C

para ativar o bot√£o com o resistor pull-up, precisamos defini-l√≥ no c√≥digo:

```c
int botao = 8;
int dado;

void setup() {
  Serial.begin(115200);
  pinMode(botao, INPUT_PULLUP);
}

void loop() {
  dado = digitalRead(botao);

  if(dado){
    Serial.println(dado);
  }else{
    Serial.println(dado);
  }
  delay(100);
}
```

Definimos o bot√£o como pull-up usando o **pinMode(pino, INPUT_PULLUP)**. Basicamente esse c√≥digo ir√° imprimir no console serial 1 quando o bot√£o n√£o estiver precionado e 0 quando o bot√£o for precionado.

## üß™ Experimento 02 - Usando o bot√£o como PULL-DOWN

J√° para montarmos o circuito de um bot√£o com o seu uso "padr√£o" (usando o resistor pull-down), precisamos usar de fato o resistor, como mostra o esquema abaixo:

<p align="center">
    <img width=300 src="./imgs/botao_pulldown.jpg"/>
</p>

### üßë‚Äçüíª c√≥digo em C

```C
int botao = 14;
int dado;
int led = 27;

void setup() {
  Serial.begin(115200);
  pinMode(botao, INPUT);
  pinMode(led, OUTPUT);
}

void loop() {
  dado = digitalRead(botao);

  if(dado){
    digitalWrite(led, HIGH);
  }else{
    digitalWrite(led, LOW);
  }
  Serial.println(dado);
  delay(100);
}
```

basicamente o led ser√° acesso apenas quando o bot√£o for precionado, que √© verificado com o valor da flag **dado** que √© o valor inteiro obtido pelo auxilio da fun√ß√£o **digitalRead()**, que representa o estado do bot√£o: 1 para precionado e 0 para n√£o precionado.

## üéõÔ∏è Simula√ß√£o da pr√°tica

para acessar as simula√ß√µes no **WORKIWI**:
- [PULL-UP](https://wokwi.com/projects/399254188490532865)
- [PULL-DOWN](https://wokwi.com/projects/395082653178675201)