# Pr√°tica com MQTT

> Entendendo como funciona o protocolo de aplica√ß√£o MQTT usado em IoT e usando o wifi do ESP 32

## [1/3] ‚ùì O que √© o MQTT

O MQTT (Message Queuing Telemetry Transport) √© um protocolo da camada de aplica√ß√£o de mensagens leve e de baixa largura de banda projetado para conectar
dispositivos em redes com largura de banda limitada ou inst√°veis. Ele foi desenvolvido pela IBM em 1999 e tornou-se um padr√£o 
aberto e amplamente utilizado para comunica√ß√£o entre dispositivos da Internet das Coisas (IoT).

## üë§ tipos de cliente no MQTT

O **protocolo MQTT** funciona em uma configura√ß√£o diferente da tipicamente usada em clientes-servidores, como o caso do **HTTP**, onde
quem inica a comunica√ß√£o com o servidor fazendo uma requisi√ß√£o √© sempre o **cliente**, e o **servidor** recebendo essa requisi√ß√£o e 
envia uma resposta para o cliente. No caso do **MQTT**, temos papeis diferentes:

### üì• client-Subscriber (assinante)

O **cliente assinante** √© respons√°vel por receber os dados publicados pelo **cliente publicador**. Para isso, o assinante deve 
se inscrever no **t√≥pico**, que √© uma string que atua como um canal de comunica√ß√£o, definido pelo publicador. Em ess√™ncia, os 
clientes assinantes s√£o aplica√ß√µes que utilizam os dados obtidos para diversos fins, tais como: interfaces de usu√°rio (UI), 
sistemas de controle, integra√ß√£o com bancos de dados, processamento de dados, entre outros. 

### üì¢ client-Publisher (publicador)

O **clinte publicador** ser√° respons√°vel por publicar e definir os t√≥picos que ser√£o enviados os dados. Os **t√≥picos** seguem uma 
estrutura baseada em barras (/), permitindo uma organiza√ß√£o l√≥gica e intuitiva dos dados. Os t√≥picos podem ter qualquer 
profundidade e podem incluir caracteres especiais como "+" e "#", que s√£o usados como curingas para inscri√ß√£o em m√∫ltiplos t√≥picos
. N√£o h√° regras estritas para a nomenclatura dos t√≥picos, mas √© comum usar uma estrutura descritiva que reflita o conte√∫do ou 
prop√≥sito das mensagens. 

## ‚ÜîÔ∏è A ponte entre os clientes MQTT e os dispositivos IoT - Broker (server-MQTT)

O servidor MQTT atua como intermedi√°rio entre os clientes publicadores e assinantes. Ele recebe mensagens dos clientes publicadores e 
as encaminha para os clientes assinantes que est√£o interessados nessas mensagens. Tanto o cliente assinante como o cliente publicador
estabelece uma conex√£o TCP/IP com o servidor MQTT (broker) para iniciar a comunica√ß√£o. Isso geralmente √© feito na porta padr√£o 1883 (ou 8883 
para conex√µes seguras TLS/SSL).

### ü§ù Niveis de confiabilidade do Broker - QoS (Quality of Service)

1. **QoS 0** (Entrega no m√°ximo uma vez): As mensagens s√£o entregues no m√°ximo uma vez, sem confirma√ß√£o.
2. **QoS 1** (Entrega pelo menos uma vez): As mensagens s√£o entregues pelo menos uma vez e podem resultar em mensagens duplicadas.
3. **QoS 2** (Entrega exatamente uma vez): As mensagens s√£o entregues exatamente uma vez, garantindo que n√£o haja duplicatas.


## [2/3] üì∂ Wifi no ESP 32


## [3/3] Ma√µs ao Trabalho!

### Codigo da pr√°tica

```C

```
